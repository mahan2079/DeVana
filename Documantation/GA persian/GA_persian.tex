

\section{مقدمه و انگیزه}
\label{sec:intro}

\softwareName{} یک چارچوب جامع بهینه‌سازی برای طراحی \lr{DVA}‌ها با قابلیت کاربرد صنعتی ارائه می‌کند. چالش‌های فضای پیکربندی وسیع، اهداف چندمعیاره و کارایی محاسباتی با (1) پشتیبانی از چند بهینه‌ساز در یک زمین‌بازی قابل پیکربندی، (2) افزودن کنترل‌کننده‌های تطبیقی برای \lr{GA} با یادگیری برخط، (3) کاهش هزینه ارزیابی از طریق غربالگری یار-مدل، و (4) توانمندسازی سنتز آماری بازه‌های پیشنهادی در تکرارهای مستقل، پاسخ داده شده است.

\subsection{مشارکت‌ها و نوآوری‌ها}
\label{subsec:contributions}
\begin{enumerate}
    \item \textbf{زمین‌بازی یکپارچه ی بهینه‌سازی:} بستری ماژولار و متن‌باز که امکان پیکربندی و مقایسه \lr{GA}، \lr{PSO}، \lr{SA}، \lr{CMA-ES}، \lr{RL} و \lr{DE} را بر یک مسئله با ابزارسازی یکسان فراهم می‌کند.
    \item \textbf{کنترل‌کننده‌های تطبیقی \lr{GA}:} تنظیم برخط آمیزش، جهش و اندازه جمعیت با کنترل‌کننده ی \lr{ML}-بندیت و عامل \lr{RL} سبک‌وزن.
    \item \textbf{غربالگری یار-مدل:} پیش‌فیلتر مبتنی بر \lr{KNN} برای کاهش فراخوانی‌های پرهزینه ی \lr{FRF} با حفظ نوآوری.
    \item \textbf{بذرپاشی پیشرفته:} گزینه‌های تصادفی، \lr{Sobol}، \lr{LHS} و \lr{NeuralSeeder} با \lr{UCB}/\lr{EI} جهت بهبود کیفیت جست‌وجوی اولیه.
    \item \textbf{سنتز آماری بازه‌ها:} خط لوله‌ای مقاوم که بازه‌های پیشنهادی را برای هر متغیر \lr{DVA} با معیارهای مکمل (\lr{IQR}، \lr{P5-P95}، \lr{Tukey}، \lr{HDI}، \lr{Top-$q$}، \lr{TMAD}) استخراج می‌کند.
    \item \textbf{جریان مهندسی بازتولیدپذیر:} نسخه‌بندی انتشار (\softwareVersion{})، مجموعه‌داده سنجه‌ها و پیکربندی‌های قابل‌صدور برای بازآزمایی منصفانه.
\end{enumerate}

\subsection{دسترس‌پذیری و نسخه‌بندی نرم‌افزار}
\label{subsec:availability}
\softwareName{} تحت مجوز متن‌باز در \lr{GitHub} و وب‌سایت پروژه ارائه شده است و این سند نسخه ی \softwareVersion{} را پوشش می‌دهد. مخزن شامل کد منبع، پیکربندی‌های نمونه و دستورالعمل‌های بازتولید همه آزمایش‌ها است.

\subsection{نقشه ی راه}
\label{subsec:roadmap}
ابتدا پیکربندی \lr{DVA} و فضای پارامترها معرفی می‌شود؛ سپس مدل مکانیکی و ارزیابی مبتنی بر \lr{FRF} تشریح می‌گردد. آنگاه مسئله بهینه‌سازی، مبنای \lr{GA} و قابلیت‌های پیشرفته ارائه می‌شود. در ادامه معماری نرم‌افزار، مجموعه الگوریتم‌ها و زمین‌بازی پیکربندی، طرح ارزیابی و تحلیل پایداری، سنتز آماری بازه‌ها و در نهایت نتایج و مباحث بازتولید مطرح می‌شود.

\section{معماری نرم‌افزار و زمین‌بازی بهینه‌سازی}
\label{sec:architecture}

\subsection{اصول طراحی}
\begin{itemize}
    \item \textbf{ماژولاریت:} لایه‌های مجزا برای مکانیک، بهینه‌سازی، کنترل‌کننده‌ها، بذرپاشی، یار-مدل، \lr{GUI} و ارزیابی.
    \item \textbf{بازتولیدپذیری:} پیکربندی‌های نسخه‌دار، دانه‌های تصادفی قطعی در صورت نیاز و نتایج قابل‌صدور.
    \item \textbf{گسترش‌پذیری:} واسط‌های تمیز برای افزودن بهینه‌ساز، یار-مدل و سنجه‌های جدید با حداقل تغییرات.
    \item \textbf{قابلیت مشاهده:} سنجه‌ها، لاگ‌ها و مصنوعات غنی در هر اجرا و هر نسل.
\end{itemize}

\subsection{نمای کلی سیستم}
\begin{enumerate}
    \item \textbf{هسته ی مکانیکی:} ساخت اپراتورهای جرم، میرایی، سختی و نیرو و محاسبه ی \lr{FRF}‌ها (ارجاع به بخش \ref{subsubsec:chosen_performance_criteria_combined}).
    \item \textbf{خط لوله ی برازندگی:} ارزیابی معادله \eqref{Eq.objective_function_detailed} با معیارهای مدی، بین‌مدی و سراسری و وزن‌های کاربر.
    \item \textbf{مجموعه ی الگوریتم‌ها:} \lr{GA}، \lr{PSO}، \lr{SA}، \lr{CMA-ES}، \lr{RL} و \lr{DE} با حدود مشترک، رسیدگی به پارامترهای ثابت و معیار توقف یکنواخت.
    \item \textbf{کنترل‌کننده‌ها:} بندیت \lr{ML} و \lr{RL} برای کنترل تطبیقی \lr{GA} (معادلات \ref{Eq.ucb} تا \ref{Eq.bandit_reward}).
    \item \textbf{بذرپاشی:} تصادفی، \lr{Sobol}، \lr{LHS} و \lr{NeuralSeeder} (\lr{UCB}/\lr{EI}) مطابق معادله \eqref{Eq.harmonic.solution.2dof3dof} به بعد.
    \item \textbf{غربالگری یار-مدل:} پیش‌فیلتر \lr{KNN} با نوآوری (بخش \ref{sec:benchmarking}).
    \item \textbf{ابزارسازی:} \lr{KPI}‌ها در سطح نسل و سیستم (بخش \ref{sec:benchmarking}).
    \item \textbf{\lr{GUI}:} پیکربندی تعاملی، کنترل اجرا، مصورسازی پاسخ‌ها، همگرایی و بازه‌ها و صدور نتایج.
\end{enumerate}

\subsection{زمین‌بازی بهینه‌سازی}
کاربران با انتخاب بهینه‌ساز، حدود و ماسک‌های ثابت، وزن‌های هدف، بذرپاشی، تنظیمات کنترل‌کننده/یار-مدل و توقف، آزمایش‌ها را پیکربندی می‌کنند تا حل‌های قابل‌مقایسه با سنجه‌ها و مصورسازی‌های مشترک به‌دست آید.

\subsection{داده، لاگ و سنجه‌ها}
در هر نسل زمان، تعداد ارزیابی‌ها، آمار برازندگی، نرخ عملگرها، اندازه جمعیت و منابع، همراه با مصنوعات (بهترین راه‌حل‌ها، \lr{FRF}‌ها، ردپاهای همگرایی) ثبت و قابل‌صدور به \lr{CSV}/\lr{JSON} است.

\subsection{گسترش‌پذیری}
بهینه‌سازها، یار-مدل‌ها و کنترل‌کننده‌های جدید با پیاده‌سازی واسط‌های کوچک (\lr{ask}، \lr{tell}/\lr{evaluate} و \lr{adapt}) افزوده می‌شوند. سنجه‌های جدید به‌صورت خودکار در لایه ثبت و گزارش ادغام می‌شوند.

\subsection{بازتولیدپذیری}
همه آزمایش‌ها هش پیکربندی و نسخه ی نرم‌افزار (\softwareVersion{}) را ذخیره می‌کنند. پیکربندی‌های نمونه و خروجی سنجه‌های خام برای بازآزمایی ارائه شده است.

\section{فضای پیکربندی سیستم‌های \lr{DVA}}

طراحی \lr{DVA}‌ها مستلزم انتخاب ترکیب‌های مناسبی از جرم‌ها، فنرها، میراینده‌ها و اینرترها برای اتصال به سیستم اصلی به‌منظور مهار ارتعاش است. هر جزء در رفتار دینامیکی اثر می‌گذارد و ترکیب‌ها به فضای عظیم پیکربندی می‌انجامند.

\subsection{تعریف اجزا و پارامترها}

بگذارید:
\begin{itemize}
    \item $\mathcal{M}=\{ m_i\mid m_i\in[m_i^{\min},m_i^{\max}],\ i=1,\ldots,n_m\}$: مجموعه جرم‌ها؛
    \item $\mathcal{K}=\{ k_j\mid k_j\in[k_j^{\min},k_j^{\max}],\ j=1,\ldots,n_k\}$: مجموعه سختی‌ها؛
    \item $\mathcal{C}=\{ c_l\mid c_l\in[c_l^{\min},c_l^{\max}],\ l=1,\ldots,n_c\}$: مجموعه میرایی‌ها؛
    \item $\mathcal{B}=\{ b_p\mid b_p\in[b_p^{\min},b_p^{\max}],\ p=1,\ldots,n_b\}$: مجموعه اینرترها.
\end{itemize}

هر پارامتر در بازه طراحی قابل‌قبول محدود شده که قیود عملی مانند خواص ماده و محدودیت‌های ساخت را بازتاب می‌دهد.

\subsection{تعداد کل پیکربندی‌ها}
رشد ترکیبیاتی فضای پیکربندی با روابط زیر نمایش داده می‌شود:
\begin{align}
N_{\text{total}} &= \left( n_m + n_k + n_c + n_b \right)\\
N_{\text{config}} &= \frac{N_{\text{total}} \times (N_{\text{total}} + 1)}{2}
\label{eq:N_config}
\end{align}
که نشان می‌دهد ارزیابی جامع همه پیکربندی‌ها از نظر محاسباتی عملی نیست.

\section{فضای پارامتر و متغیرهای طراحی}
برای پیکربندی $s$، بردار پارامترها به‌صورت زیر تعریف می‌شود:
\begin{equation}
\boldsymbol{\theta}_s = [\theta_1,\ldots,\theta_{n_s}]^{\top}
\label{eq:theta_s}
\end{equation}
که در آن $n_s$ تعداد پارامترها در پیکربندی $s$ است و هر $\theta_i$ در بازه قابل‌قبول قرار دارد:
\begin{equation}
\theta_i \in [ \theta_i^{\min}, \theta_i^{\max} ]
\label{eq:theta_i_range}
\end{equation}
فضای قابل‌قبول:
\begin{equation}
\Theta_s = \prod_{i=1}^{n_s} [ \theta_i^{\min}, \theta_i^{\max} ]
\label{eq:Theta_s}
\end{equation}

\section{بیان مسئله}
\subsection{تعریف سیستم مکانیکی}
\subsubsection{سیستم ی کاملا کوپل شده ی \lr{2DOF}-\lr{3DOF}}
\paragraph{نمای سیستم و پیکربندی}
برای درک بنیان روش \lr{GA} پیشرفته، تحلیل گام‌به‌گام سیستم مکانیکی انجام می‌شود. سیستم مورد مطالعه یک ساختار کاملا کوپل‌شده \lr{2DOF}-\lr{3DOF} است که در آن همه اجزا با جرم‌ها، فنرها، میراینده‌ها و اینرترها به‌هم پیوسته‌اند. ساختار اصلی شامل یک سیستم \lr{2DOF} با دو جرم اصلی و سه \lr{DVA} تک‌درجه‌آزادی است تا چند مود هدف به‌طور هم‌زمان کنترل شود. اجزای اصلی عبارت‌اند از:
\begin{itemize}
    \item \textbf{اجزای ساختاری اصلی:} دو جرم اصلی ($M_1$، $M_2$)؛
    \item \textbf{جاذب های دینامیکی ارتعاش:} سه جرم \lr{DVA} ($\mu_1$، $\mu_2$، $\mu_3$)؛
    \item \textbf{تحریک‌های پایه:} حرکت‌های پایه پایین و بالا؛
    \item \textbf{نیروهای خارجی:} اعمال نیرو به جرم‌های اصلی؛
    \item \textbf{کوپل کامل:} اتصال از طریق جرم، سختی، میرایی و اینرتر.
\end{itemize}
سیستم دارای \lr{48} پارامتر مستقل است: \lr{15} کوپل اینرسی $\beta_1\ldots\beta_{15}$، \lr{15} سختی $\lambda_1\ldots\lambda_{15}$، \lr{15} میرایی $\nu_1\ldots\nu_{15}$ و \lr{3} جرم \lr{DVA} ($\mu_1$، $\mu_2$، $\mu_3$).

\paragraph{مدلسازی ارتعاش و فرضیات}
سیستم اصلی با جرم‌ها، فنرها، میراینده‌ها و اینرترها، همراه با پایه بالا/پایین مدل می‌شود. فرضیات کلیدی:
\begin{itemize}
    \item \textbf{الاستیسیته خطی} برای $K_1$ تا $K_3$؛
    \item \textbf{میرایی لزج خطی} برای $C_1$ تا $C_5$ و $c_i$؛
    \item \textbf{جرم‌های نقطه‌ای}؛
    \item \textbf{حرکت تک‌بعدی}؛
    \item \textbf{پارامترهای ثابت در زمان}؛
    \item \textbf{عدمِ غیرخطی‌های هندسی}؛
    \item \textbf{اتصالات صلب}.
\end{itemize}
تحریک‌های پایه می‌تواند سناریوهای مختلف مکانیکی را بازنمایی کند: حرکت فونداسیون، مدهای اضافی سیستم و تغییر شرایط مرزی. هر \lr{DVA} یک \lr{1DOF} مستقل با جرم، سختی، میرایی و اینرتر خود است و با اجزای اصلی و دیگر \lr{DVA}‌ها کوپل می‌شود.

\paragraph{استخراج معادلات حاکم}
مختصات تعمیم‌یافته مطابق زیر است:
\begin{align}\label{Eq.generalized.coordinate.2dof3dof}
    \mathbf{q} =
    \begin{bmatrix}
        U_1(t) \\
        U_2(t) \\
        u_1(t) \\
        u_2(t) \\
        u_3(t)
    \end{bmatrix};\quad
    \dot{\mathbf{q}} =
    \begin{bmatrix}
        \dot{U_1}(t) \\
        \dot{U_2}(t) \\
        \dot{u_1}(t) \\
        \dot{u_2}(t) \\
        \dot{u_3}(t)
    \end{bmatrix};\quad
    \ddot{\mathbf{q}} =
    \begin{bmatrix}
        \ddot{U_1}(t) \\
        \ddot{U_2}(t) \\
        \ddot{u_1}(t) \\
        \ddot{u_2}(t) \\
        \ddot{u_3}(t)
    \end{bmatrix}
\end{align}
معادلات حرکت:
\begin{equation} \label{Eq.EOM_dimensional_combined}
    \mathbf{M} \, \ddot{\mathbf{q}} + \mathbf{C} \, \dot{\mathbf{q}} + \mathbf{K} \, \mathbf{q} = \mathbf{F}(t)
\end{equation}
که در آن $\mathbf{q}$ بردار جابجایی، $\mathbf{M}$، $\mathbf{C}$، $\mathbf{K}$ ماتریس‌های جرم/میرایی/سختی و $\mathbf{F}(t)$ بردار نیروهای خارجی است. همچنین
\begin{equation}\label{Eq.generalized_coordinate_combined}
    \mathbf{q} = 
  \begin{bmatrix}
    U_1 \\ U_2 \\ u_1 \\ u_2 \\ u_3
  \end{bmatrix}
\end{equation}

\paragraph{ماتریس جرم}
رابطه \eqref{Eq.mass_matrix_dimensional_combined} بدون تغییر حفظ می‌شود:
\begin{equation}\label{Eq.mass_matrix_dimensional_combined}
\begin{aligned}
[M] = &
\begin{bmatrix}
\shortstack[c]{$M_1 + b_1$ \\ $+ b_2 + b_3$} & 0 & \shortstack[c]{$-b_1$ \\ \,} & \shortstack[c]{$-b_2$ \\ \,} & \shortstack[c]{$-b_3$ \\ \,} \\
0 & \shortstack[c]{$M_2 + b_4$ \\ $+ b_5 + b_6$} & \shortstack[c]{$-b_4$ \\ \,} & \shortstack[c]{$-b_5$ \\ \,} & \shortstack[c]{$-b_6$ \\ \,} \\
\shortstack[c]{$-b_1$ \\ \,} & \shortstack[c]{$-b_4$ \\ \,} & \shortstack[c]{$m_1 + b_1$ \\ $+ b_4 + b_7$ \\ $+ b_8 + b_9$ \\ $+ b_{10}$} & \shortstack[c]{$-b_9$ \\ \,} & \shortstack[c]{$-b_{10}$ \\ \,} \\
\shortstack[c]{$-b_2$ \\ \,} & \shortstack[c]{$-b_5$ \\ \,} & \shortstack[c]{$-b_9$ \\ \,} & \shortstack[c]{$m_2 + b_2$ \\ $+ b_5 + b_9$ \\ $+ b_{11} + b_{12}$} & \shortstack[c]{$-b_{15}$ \\ \,} \\
\shortstack[c]{$-b_3$ \\ \,} & \shortstack[c]{$-b_6$ \\ \,} & \shortstack[c]{$-b_{10}$ \\ \,} & \shortstack[c]{$-b_{15}$ \\ \,} & \shortstack[c]{$m_3 + b_3$ \\ $+ b_6 + b_{10}$ \\ $+ b_{13} + b_{14}$ \\ $+ b_{15}$}
\end{bmatrix}
\end{aligned}
\end{equation}

\paragraph{ماتریس میرایی}
\begin{equation}\label{Eq.damping_matrix_dimensional_combined}
\begin{aligned}
[C] = &
\begin{bmatrix}
\shortstack{$C_1 + C_2$ \\ $+ C_3$} & -C_3 & \shortstack{$-c_1$ \\ \,} & \shortstack{$-c_2$ \\ \,} & \shortstack{$-c_3$ \\ \,} \\
-C_3 & \shortstack{$C_3 + C_4$ \\ $+ C_5 + c_4$ \\ $+ c_5 + c_6$} & \shortstack{$-c_4$ \\ \,} & \shortstack{$-c_5$ \\ \,} & \shortstack{$-c_6$ \\ \,} \\
-c_1 & -c_2 & \shortstack{$c_1 + c_4$ \\ $+ c_7 + c_8$ \\ $+ c_9 + c_{10}$} & \shortstack{$-c_9$ \\ \,} & \shortstack{$-c_{10}$ \\ \,} \\
-c_2 & -c_5 & -c_9 & \shortstack{$c_2 + c_5$ \\ $+ c_9 + c_{11}$ \\ $+ c_{12} + c_{15}$} & \shortstack{$-c_{15}$ \\ \,} \\
-c_3 & -c_{6} & -c_{10} & -c_{15} & \shortstack{$c_3 + c_6$ \\ $+ c_{10} + c_{13}$ \\ $+ c_{14} + c_{15}$}
\end{bmatrix}
\end{aligned}
\end{equation}

\paragraph{ماتریس سختی}
\begin{equation}\label{Eq.stiffness_matrix_dimensional_combined}
\begin{aligned}
[K] = &
\begin{bmatrix}
\shortstack{$K_1 + K_2$ \\ $+ K_3$} & -K_3 & \shortstack{$-k_1$ \\ \,} & \shortstack{$-k_2$ \\ \,} & \shortstack{$-k_3$ \\ \,} \\
-K_3 & \shortstack{$K_3 + K_4$ \\ $+ K_5 + k_4$ \\ $+ k_5 + k_6$} & \shortstack{$-k_4$ \\ \,} & \shortstack{$-k_5$ \\ \,} & \shortstack{$-k_6$ \\ \,} \\
-k_1 & -k_2 & \shortstack{$k_1 + k_4$ \\ $+ k_7 + k_8$ \\ $+ k_9 + k_{10}$} & \shortstack{$-k_9$ \\ \,} & \shortstack{$-k_{10}$ \\ \,} \\
-k_2 & -k_5 & -k_9 & \shortstack{$k_2 + k_5$ \\ $+ k_9 + k_{11}$ \\ $+ k_{12} + k_{15}$} & \shortstack{$-k_{15}$ \\ \,} \\
-k_3 & -k_{6} & -k_{10} & -k_{15} & \shortstack{$k_3 + k_6$ \\ $+ k_{10} + k_{13}$ \\ $+ k_{14} + k_{15}$}
\end{bmatrix}
\end{aligned}
\end{equation}

\paragraph{بردار نیرو}
\begin{equation}\label{Eq.force_vector_dimensional_combined}
\begin{aligned}
[F] = & \begin{bmatrix}
F_1(t) + C_1 \dot{U}_{low} + C_2 \dot{U}_{upp} + K_1 U_{low} + K_2 U_{upp} \\
F_2(t) + C_4 \dot{U}_{low} + C_5 \dot{U}_{upp} + K_4 U_{low} + K_5 U_{upp} \\
\beta_7 \ddot{U}_{low} + \beta_8 \ddot{U}_{upp} + 2 \zeta_{dc} \omega_{dc} (\nu_7 \dot{U}_{low} + \nu_8 \dot{U}_{upp}) + \omega_{dc}^2 (\lambda_7 U_{low} + \lambda_8 U_{upp}) \\
\beta_{11} \ddot{U}_{low} + \beta_{12} \ddot{U}_{upp} + 2 \zeta_{dc} \omega_{dc} (\nu_{11} \dot{U}_{low} + \nu_{12} \dot{U}_{upp}) + \omega_{dc}^2 (\lambda_{11} U_{low} + \lambda_{12} U_{upp}) \\
\beta_{13} \ddot{U}_{low} + \beta_{14} \ddot{U}_{upp} + 2 \zeta_{dc} \omega_{dc} (\nu_{13} \dot{U}_{low} + \nu_{14} \dot{U}_{upp}) + \omega_{dc}^2 (\lambda_{13} U_{low} + \lambda_{14} U_{upp})
\end{bmatrix}
\end{aligned}
\end{equation}

\subsubsection{بی‌بُعدسازی}
برای ساده‌سازی تحلیل، پارامترهای بی‌بُعد جدول \ref{Tab:dimensionless.table} به‌کار گرفته می‌شود.
\begin{table}[h!]
\centering
\caption{پارامترهای بی‌بُعد برای نرمال‌سازی سیستم}
\label{Tab:dimensionless.table}
\begin{tabular}{lcc}
\toprule
\textbf{گروه پارامتر} & \textbf{نماد} & \textbf{تعریف} \\
\midrule
\textbf{نسبت‌های جرم} & $\Gamma$ & $\Gamma = \sqrt{\tfrac{K_1}{K_1}}\cdot\tfrac{M_2}{M_1}$ \\
 & $\mu_i$ & $\mu_i = \tfrac{m_i}{M_1}$ \\
\addlinespace
\textbf{نسبت‌های کوپل اینرسی} & $\beta_i$ & $\beta_i = \tfrac{b_i}{M_1}$ \\
\addlinespace
\textbf{نسبت‌های میرایی} & $\mathcal{N}_i$ & $\mathcal{N}_i = \tfrac{C_i}{C_1}$ \\
 & $\nu_i$ & $\nu_i = \tfrac{c_i}{C_1}$ \\
\addlinespace
\textbf{نسبت‌های سختی} & $\Lambda_i$ & $\Lambda_i = \tfrac{K_i}{K_1}$ \\
 & $\lambda_i$ & $\lambda_i = \tfrac{k_i}{K_1}$ \\
\addlinespace
\textbf{سیستم ی اولیه ی جداشده} & $\omega_{dc}$ & $\omega_{dc} = \sqrt{\tfrac{K_1}{M_1}}$ \\
 & $\zeta_{dc}$ & $\zeta_{dc} = \tfrac{C_1}{2 M_1 \omega_{dc}}$ \\
\bottomrule
\end{tabular}
\end{table}

با این پارامترها:
\begin{equation}\label{Eq.EOM_dimensionless}
\mathbf{\bar{M}} \ddot{\mathbf{q}} + 2 
\zeta_{dc} \omega_{dc} \mathbf{\bar{C}} \dot{\mathbf{q}} + \omega_{dc}^2 \mathbf{\bar{K}} \mathbf{q} = \mathbf{\bar{F}}(t)
\end{equation}
ماتریس‌ها و بردار نیرو در معادلات \eqref{Eq.mass_matrix_dimensionless} تا \eqref{Eq.force_vector_dimensionless} آمده است.

\paragraph{ماتریس جرم بی‌بُعد}
\begin{equation}\label{Eq.mass_matrix_dimensionless}
\begin{aligned}
[\bar{M}] = & 
\begin{bmatrix}
\shortstack{$1 + \beta_1$ \\ $+ \beta_2 + \beta_3$} & 0 & \shortstack{$-\beta_1$ \\ \,} & \shortstack{$-\beta_2$ \\ \,} & \shortstack{$-\beta_3$ \\ \,} \\
0 & \shortstack{$\Gamma + \beta_4$ \\ $+ \beta_5 + \beta_6$} & \shortstack{$-\beta_4$ \\ \,} & \shortstack{$-\beta_5$ \\ \,} & \shortstack{$-\beta_6$ \\ \,} \\
-\beta_1 & -\beta_4 & \shortstack{$\mu_1 + \beta_1$ \\ $+ \beta_4 + \beta_7$ \\ $+ \beta_8 + \beta_9$ \\ $+ \beta_{10}$} & \shortstack{$-\beta_9$ \\ \,} & \shortstack{$-\beta_{10}$ \\ \,} \\
-\beta_2 & -\beta_5 & -\beta_9 & \shortstack{$\mu_2 + \beta_2$ \\ $+ \beta_5 + \beta_9$ \\ $+ \beta_{11} + \beta_{12}$} & \shortstack{$-\beta_{15}$ \\ \,} \\
-\beta_3 & -\beta_6 & -\beta_{10} & -\beta_{15} & \shortstack{$\mu_3 + \beta_3$ \\ $+ \beta_6 + \beta_{10}$ \\ $+ \beta_{13} + \beta_{14}$ \\ $+ \beta_{15}$}
\end{bmatrix}
\end{aligned}
\end{equation}

\paragraph{ماتریس میرایی بی‌بُعد}
\begin{equation}\label{Eq.damping_matrix_dimensionless}
\begin{aligned}
[\bar{C}] = & 
\begin{bmatrix}
\shortstack{$1 + \mathcal{N}_2$ \\ $+ \mathcal{N}_3 + \nu_1$ \\ $+ \nu_2 + \nu_3$} & -\mathcal{N}_3 & \shortstack{$-\nu_1$ \\ \,} & \shortstack{$-\nu_2$ \\ \,} & \shortstack{$-\nu_3$ \\ \,} \\
-\mathcal{N}_3 & \shortstack{$\mathcal{N}_3 + \mathcal{N}_4$ \\ $+ \mathcal{N}_5 + \nu_4$ \\ $+ \nu_5 + \nu_6$} & \shortstack{$-\nu_4$ \\ \,} & \shortstack{$-\nu_5$ \\ \,} & \shortstack{$-\nu_6$ \\ \,} \\
-\nu_1 & -\nu_2 & \shortstack{$\nu_1 + \nu_4$ \\ $+ \nu_7 + \nu_8$ \\ $+ \nu_9 + \nu_{10}$} & \shortstack{$-\nu_9$ \\ \,} & \shortstack{$-\nu_{10}$ \\ \,} \\
-\nu_2 & -\nu_5 & -\nu_9 & \shortstack{$\nu_2 + \nu_5$ \\ $+ \nu_9 + \nu_{11}$ \\ $+ \nu_{12} + \nu_{15}$} & \shortstack{$-\nu_{15}$ \\ \,} \\
-\nu_3 & -\nu_{6} & -\nu_{10} & -\nu_{15} & \shortstack{$\nu_3 + \nu_6$ \\ $+ \nu_{10} + \nu_{13}$ \\ $+ \nu_{14} + \nu_{15}$}
\end{bmatrix}
\end{aligned}
\end{equation}

\paragraph{ماتریس سختی بی‌بُعد}
\begin{equation}\label{Eq.stiffness_matrix_dimensionless}
\begin{aligned}
[\bar{K}] = & 
\begin{bmatrix}
\shortstack{$1 + \Lambda_2$ \\ $+ \Lambda_3 + \lambda_1$ \\ $+ \lambda_2 + \lambda_3$} & -\Lambda_3 & \shortstack{$-\lambda_1$ \\ \,} & \shortstack{$-\lambda_2$ \\ \,} & \shortstack{$-\lambda_3$ \\ \,} \\
-\Lambda_3 & \shortstack{$\Lambda_3 + \Lambda_4$ \\ $+ \Lambda_5 + \lambda_4$ \\ $+ \lambda_5 + \lambda_6$} & \shortstack{$-\lambda_4$ \\ \,} & \shortstack{$-\lambda_5$ \\ \,} & \shortstack{$-\lambda_6$ \\ \,} \\
-\lambda_1 & -\lambda_2 & \shortstack{$\lambda_1 + \lambda_4$ \\ $+ \lambda_7 + \lambda_8$ \\ $+ \lambda_9 + \lambda_{10}$} & \shortstack{$-\lambda_9$ \\ \,} & \shortstack{$-\lambda_{10}$ \\ \,} \\
-\lambda_2 & -\lambda_5 & -\lambda_9 & \shortstack{$\lambda_2 + \lambda_5$ \\ $+ \lambda_9 + \lambda_{11}$ \\ $+ \lambda_{12} + \lambda_{15}$} & \shortstack{$-\lambda_{15}$ \\ \,} \\
-\lambda_3 & -\lambda_{6} & -\lambda_{10} & -\lambda_{15} & \shortstack{$\lambda_3 + \lambda_6$ \\ $+ \lambda_{10} + \lambda_{13}$ \\ $+ \lambda_{14} + \lambda_{15}$}
\end{bmatrix}
\end{aligned}
\end{equation}

\paragraph{بردار نیرو بی‌بُعد}
\begin{equation}\label{Eq.force_vector_dimensionless}
\begin{aligned}
[\bar{F}] = & \begin{bmatrix}
\tfrac{F_1(t)}{M_1} + 2 \zeta_{dc} \omega_{dc} (\dot{U}_{low} + \mathcal{N}_2 \dot{U}_{upp}) + \omega_{dc}^2 (U_{low} + \Lambda_2 U_{upp})\\
\tfrac{F_2(t)}{M_1} + 2 \zeta_{dc} \omega_{dc} (\mathcal{N}_4 \dot{U}_{low} + \mathcal{N}_5 \dot{U}_{upp}) + \omega_{dc}^2 (\Lambda_4 U_{low} + \Lambda_5 U_{upp}) \\
\beta_7 \ddot{U}_{low} +  2 \zeta_{dc} \omega_{dc} (\nu_7 \dot{U}_{low}) +\cdots\\
\vdots
\end{bmatrix}
\end{aligned}
\end{equation}

\paragraph{راه‌حل‌های نیمه‌تحلیلی برای تحریک هارمونیک}
راه‌حل هارمونیک به‌صورت
\begin{align}\label{Eq.harmonic.solution.2dof3dof}
    \begin{bmatrix}
        U_1(t) \\
        U_2(t) \\
        u_1(t) \\
        u_2(t) \\
        u_3(t)
    \end{bmatrix} =
    \begin{bmatrix}
        A_1 \\
        A_2 \\
        a_1 \\
        a_2 \\
        a_3
    \end{bmatrix} e^{j \omega t}
\end{align}
و تحریک‌ها:
\begin{align}\label{Eq.harmonic.excitations.2dof3dof}
    \begin{split}
        F_1(t) &= F_1 e^{j \omega t} \\
        F_2(t) &= F_2 e^{j \omega t} \\
        U_{Low}(t) &= A_{Low} e^{j \omega t} \\
        U_{Up}(t) &= A_{Up} e^{j \omega t}
    \end{split}
\end{align}
با جایگذاری در معادلات حرکت، صورت‌بندی حوزه فرکانس حاصل می‌شود:
\begin{align}\label{Eq.frequency.domain.2dof3dof}
    \begin{bmatrix}
        A_1 \\
        A_2 \\
        a_1 \\
        a_2 \\
        a_3
    \end{bmatrix} = \omega_{dc}^2 \left( -\Omega^2 \mathbf{M} + j 2 \zeta_{dc} \Omega \mathbf{C} + \mathbf{K} \right)^{-1} \mathbf{F}
\end{align}
که در آن $\mathbf{F}$ بردار دامنه مختلط نیرو است.

\subsection{صورت‌بندی مسئله بهینه‌سازی}
هدف، یافتن پارامترهای بهینه \lr{DVA} برای کمینه‌سازی انحراف از عملکرد مطلوب است. بردار طراحی $\mathbf{x}\in\mathbb{R}^{48}$ بوده و مسئله به‌صورت زیر است:
\begin{equation}\label{Eq.optimization_problem}
\begin{aligned}
\min_{\mathbf{x}} \quad & f(\mathbf{x}) = f_{primary}(\mathbf{x}) + f_{sparsity}(\mathbf{x}) + f_{error}(\mathbf{x}) \\
\text{subject to} \quad & \mathbf{x}_L \le \mathbf{x} \le \mathbf{x}_U
\end{aligned}
\end{equation}
که در آن $\mathbf{x}_L,\mathbf{x}_U\in\mathbb{R}^{48}$ حدود پایین/بالا هستند.

\subsubsection{تعریف تابع هدف}
تابع هدف کل:
\begin{equation}\label{Eq.objective_function_detailed}
f(\mathbf{x}) = f_{primary}(\mathbf{x}) + f_{sparsity}(\mathbf{x}) + f_{error}(\mathbf{x})
\end{equation}
\textbf{جزء اصلی}:
\begin{equation}\label{Eq.primary_objective_detailed}
 f_{primary}(\mathbf{x}) = \left| C_s(\mathbf{x}) - 1.0 \right|
\end{equation}
که در آن معیار تکین $C_s$ به‌صورت زیر است:
\begin{equation}\label{Eq.singular_response_detailed}
C_s(\mathbf{x}) = \sum_{i=1}^{5} CM_i(\mathbf{x}),\qquad CM_i(\mathbf{x}) = \sum_j w_{ij} \cdot \frac{a_{ij}(\mathbf{x})}{t_{ij}}
\end{equation}
معیارهای عملکرد شامل مکان قله، مقدار قله، پهنای باند، شیب‌ها و مساحت زیر منحنی از تحلیل \lr{FRF} استخراج می‌شود.

\textbf{جزء تنکی}:
\begin{equation}\label{Eq.sparsity_penalty_detailed}
 f_{sparsity}(\mathbf{x}) = \alpha \sum_{k=1}^{48} |x_k|
\end{equation}
که با منظم‌سازی \lr{L1} سادگی و پایداری را تقویت می‌کند.

\textbf{جزء خطای درصدی}:
\begin{align}\label{Eq.percentage_error_detailed}
f_{error}(\mathbf{x}) &= \frac{1}{\gamma} \sum_{i} \sum_{j} \left| PD_{ij}(\mathbf{x}) \right|,\quad
PD_{ij}(\mathbf{x}) = \left( \frac{a_{ij}(\mathbf{x}) - t_{ij}}{|t_{ij}|} \right) \times 100\%
\end{align}
که $\gamma$ عامل مقیاس (پیش‌فرض \lr{1000}) است.

\subsubsection{سلسله‌مراتب معیارها}
سه سطح مدی، بین‌مدی و سراسری ارزیابی می‌شود و وزن‌ها به‌گونه‌ای تخصیص می‌یابد که مجموع آن‌ها از \lr{1} فراتر نرود و ترجیحاً برابر \lr{1} باشد:
\begin{equation}\label{Eq.weight_hierarchy_detailed}
 w_{ij} = w_i \cdot w_{base,j},\qquad \sum_{i,j} w_{ij} = 1
\end{equation}

\subsubsection{ارزیابی برازندگی از طریق تحلیل \lr{FRF}}
نمای حوزه فرکانس:
\begin{equation}\label{Eq.frequency_domain_system_detailed}
\mathbf{X}(\omega) = \mathbf{G}(\omega) \mathbf{F}(\omega)
\end{equation}
که در آن $\mathbf{X}(\omega)\in\mathbb{C}^{5}$ پاسخ جابجایی، $\mathbf{G}(\omega)\in\mathbb{C}^{5\times 5}$ \lr{FRF} و $\mathbf{F}(\omega)\in\mathbb{C}^{5}$ بردار نیرو است. ماتریس \lr{FRF}:
\begin{equation}\label{Eq.frf_matrix_detailed}
\mathbf{G}(\omega) = \left[ -\omega^2 \mathbf{M} + j\omega \mathbf{C} + \mathbf{K} \right]^{-1}
\end{equation}

\textbf{محاسبه معیارها:}
\begin{enumerate}
    \item \textbf{فرکانس قله}:
    \begin{equation}\label{Eq.peak_frequency_analysis_detailed}
    \omega_{peak,i} = \omega_{j^*} \quad \text{که} \quad j^* = \arg\max_{j} |X_i(\omega_j)|, \quad \forall i = 1,\ldots,5
    \end{equation}
    \item \textbf{دامنه قله}:
    \begin{equation}\label{Eq.peak_amplitude_analysis_detailed}
    A_{peak,i} = |X_i(\omega_{peak,i})| \quad \forall i = 1,\ldots,5
    \end{equation}
    \item \textbf{پهنای‌باند}:
    \begin{equation}\label{Eq.bandwidth_analysis_detailed}
    \Delta\omega_{i,j} = |\omega_{peak,j} - \omega_{peak,i}| \quad \forall i < j
    \end{equation}
    \item \textbf{شیب}:
    \begin{equation}\label{Eq.slope_analysis_detailed}
    s_{i,j} = \frac{A_{peak,j} - A_{peak,i}}{\omega_{peak,j} - \omega_{peak,i}} \quad \forall i < j
    \end{equation}
    \item \textbf{مساحت}:
    \begin{equation}\label{Eq.area_analysis_detailed}
    Area_i = \int_{\omega_{start}}^{\omega_{end}} |X_i(\omega)| \, d\omega \quad \forall i = 1,\ldots,5
    \end{equation}
\end{enumerate}
قاعده ی \lr{Simpson}:
\begin{equation}\label{Eq.area_simpson_detailed}
Area_i \approx \frac{h}{3} \left[|X_i(\omega_0)| + 4\sum_{k=1}^{n/2} |X_i(\omega_{2k-1})| + 2\sum_{k=1}^{n/2-1} |X_i(\omega_{2k})| + |X_i(\omega_n)| \right]
\end{equation}

\section{روش‌شناسی \lr{GA} سنتی}
\subsection{چارچوب الگوریتمی}
بازنمایی حقیقی بردار طراحی، اعمال کران‌ها با فرافکنی
\begin{equation}\label{Eq.bound_projection}
 x_i \leftarrow \min\{\, \theta_i^{\max},\; \max\{\theta_i^{\min},\; x_i\}\,\},\quad i=1,\dots,P.
\end{equation}
و رعایت پارامترهای ثابت در نظر گرفته می‌شود. خط لوله ی برازندگی معادله \eqref{Eq.objective_function_detailed} است و به‌صورت
\begin{equation}
 f(\mathbf{x})=\big|C_s(\mathbf{x})-1.0\big|\; +\; \alpha\sum_{k=1}^{P}|x_k|\; +\; \frac{1}{\gamma}\sum_{i,j}\big|PD_{ij}(\mathbf{x})\big|
\end{equation}
محاسبه می‌شود. انتخاب تورنمنتی اندازه \lr{3}، آمیزش \lr{BLX-$\alpha$} با $\alpha=0.5$، جهش ژنی با \lr{indpb=0.1} و جایگزینی نسل‌به‌نسل اعمال می‌شود. توقف با رسیدن به آستانه برازندگی یا اتمام بودجه نسل‌ها انجام می‌گیرد.

\subsection{\lr{Algorithm}: الگوریتم مبنا}
\begin{algorithm}[H]
\caption{الگوریتم ژنتیک مبنا برای بهینه‌سازی پارامترهای \lr{DVA}}
\begin{algorithmic}[1]
\REQUIRE حدود $[\theta^{\min},\theta^{\max}]$، ماسک/مقادیر ثابت، اندازه جمعیت $N$، نسل‌ها $G_{\max}$، \lr{cxpb}، \lr{mutpb}، \lr{indpb}، آستانه $\tau$
\STATE تولید جمعیت اولیه $\mathcal{P}_0$ با توزیع یکنواخت در حدود و تثبیت ژن‌های ثابت
\FOR{$g=1$ تا $G_{\max}$}
    \STATE ارزیابی هر $\mathbf{x}\in\mathcal{P}_{g-1}$ با \lr{FRF} و محاسبه $f(\mathbf{x})$
    \IF{$\min_{\mathbf{x}\in\mathcal{P}_{g-1}} f(\mathbf{x})\le\tau$} \textbf{شکست حلقه} \ENDIF
    \STATE انتخاب تورنمنتی اندازه \lr{3} و تشکیل والدین
    \STATE تولید فرزندان با آمیزش \lr{BLX-0.5} با احتمال \lr{cxpb}
    \FOR{هر فرزند}
        \STATE جهش ژنی با احتمال \lr{indpb}، اغتشاش یکنواخت تا 10\% دامنه ژن و فرافکنی معادله \eqref{Eq.bound_projection}
    \ENDFOR
    \STATE ارزیابی افراد نامعتبر؛ قرار دادن $\mathcal{P}_g\leftarrow\mathcal{O}$
\ENDFOR
\STATE \textbf{بازگشت} بهترین فرد و برازندگی
\end{algorithmic}
\end{algorithm}

\subsection{پیچیدگی و محدودیت‌ها}
اگر $C_{\text{FRF}}$ هزینه میانگین یک ارزیابی \lr{FRF} باشد و $N$ اندازه جمعیت، هزینه هر نسل $\Theta(N\,C_{\text{FRF}})+\mathcal{O}(N)$ است. همگرایی زودرس، حساسیت به ابرپارامترها و هزینه بالا از چالش‌های کلاسیک‌اند که توجیه‌کننده کنترل تطبیقی و غربالگری است.

\section{روش‌شناسی پیشرفته \lr{GA}}
\subsection{نمای کلی قابلیت‌های پیشرفته}
\softwareName{} \lr{GA} را با کنترل‌کننده‌های تطبیقی (بندیت \lr{ML} و عامل \lr{RL}) برای تنظیم \lr{cxpb}، \lr{mutpb} و اندازه جمعیت، بذرپاشی‌های \lr{Sobol}/\lr{LHS}/\lr{NeuralSeeder} و غربالگری یار-مدل \lr{KNN} توسعه می‌دهد.

\subsection{کنترل‌کننده \lr{ML}-بندیت}
فضای کنش $\mathcal{A}=\{(\delta_{\text{cx}},\delta_{\mu},\pi)\}$ تعریف شده و در نسل $t$ کنش با امتیاز \lr{UCB} بیشینه انتخاب می‌شود:
\begin{equation}\label{Eq.ucb}
 a_t=\arg\max_{a\in\mathcal{A}}\Big[ \hat{R}_t(a)+ c\,\sqrt{\tfrac{\ln t}{N_t(a)}} \Big]
\end{equation}
به‌روزرسانی پارامترها:
\begin{align}
\text{cxpb}_{t+1}&=\operatorname{clip}(\text{cxpb}_t(1+\delta_{\text{cx}}),[\text{cxpb}_{\min},\text{cxpb}_{\max}]),\\
\text{mutpb}_{t+1}&=\operatorname{clip}(\text{mutpb}_t(1+\delta_{\mu}),[\text{mutpb}_{\min},\text{mutpb}_{\max}]),\\
N_{t+1}&=\operatorname{round}(\operatorname{clip}(\pi N_t,[N_{\min},N_{\max}])).
\end{align}
\paragraph{شکل‌دهی پاداش}
\begin{equation}\label{Eq.bandit_reward}
R_t=\frac{\max\{0,\,f^{\star}_{t-1}-f^{\star}_{t}\}}{\max\{\epsilon,\,T_t\}}\,\frac{1}{\max\{1,\,E_t\}}\; -\; w_{\text{div}}\,\big|\mathrm{CV}_t-\mathrm{CV}^{\text{target}}\big|
\end{equation}
که در آن $\mathrm{CV}_t=\tfrac{\sigma_t}{|\mu_t|+\epsilon}$ و برآوردگر آمیخته $\tilde R_t= w_{\text{hist}}\,\hat{R}_{t-1}(a)+w_{\text{cur}}\,R_t$ پایداری را افزایش می‌دهد.
\begin{algorithm}[H]
\caption{کنترل‌کننده بندیت \lr{ML} در هر نسل}
\begin{algorithmic}[1]
\STATE محاسبه آمار نسل؛ انتخاب کنش با \lr{UCB}
\STATE اعمال کنش بر \lr{cxpb}، \lr{mutpb} و $N$ با کلیپ‌کردن
\STATE محاسبه پاداش و به‌روزرسانی میانگین‌ها
\end{algorithmic}
\end{algorithm}

\subsection{کنترل مبتنی بر \lr{RL}}
عامل \lr{Q-learning} با سیاست \lr{$\epsilon$-greedy} کنش‌ها را بر پایه حالت درشت (بهبود/عدم بهبود) انتخاب و مقدار \lr{Q} را به‌روزرسانی می‌کند:
\begin{equation}
 Q(s,a)\leftarrow Q(s,a)+\alpha\,\big(R+\gamma\max_{a'}Q(s',a')-Q(s,a)\big)
\end{equation}
\begin{algorithm}[H]
\caption{کنترل‌کننده \lr{RL} در هر نسل}
\begin{algorithmic}[1]
\STATE مشاهده حالت $s_t$ (مثلاً $\mathbb{1}[f^{\star}_t<f^{\star}_{t-1}]$)
\STATE با احتمال $\epsilon$ کنش تصادفی، وگرنه $\arg\max_a Q(s_t,a)$
\STATE اعمال کنش بر $(\text{cxpb},\text{mutpb},N)$ با کلیپ‌کردن
\STATE دریافت پاداش \eqref{Eq.bandit_reward}، مشاهده $s_{t+1}$ و به‌روزرسانی $Q$
\STATE کاهش $\epsilon\leftarrow\epsilon\cdot\epsilon_{\text{decay}}$
\end{algorithmic}
\end{algorithm}

\subsection{بذرپاشی \lr{Sobol} و \lr{LHS}}
برای $d=P$ پارامتر آزاد با حدود $\ell_i,u_i$، موتور \lr{QMC} نقاط $\mathbf{z}_k\in[0,1]^d$ تولید و به حدود مقیاس می‌کند:
\begin{equation}
 x_{k,i}=\ell_i+z_{k,i}(u_i-\ell_i),\quad i=1,\dots,d,\;k=1,\dots,m.
\end{equation}
مختصات ثابت بازنویسی می‌شود. این کار نسبت به تصادفی فضای‌پُرکن بهتری دارد.

\subsection{\lr{NeuralSeeder}}
مجموعه‌داده $\mathcal{D}=\{(\mathbf{x}^{(n)}, y^{(n)})\}$ نگه‌داری می‌شود و یک گروه سبک از شبکه‌ها برای مدل‌سازی $y\approx f(\mathbf{x})$ آموزش داده می‌شود. نامزدها با بهینه‌سازی تابع اکتساب مانند \lr{UCB} یا \lr{EI} انتخاب می‌شوند:
\begin{align}\label{eq:UCBEI}
 \text{UCB}(\mathbf{x}) &= \mu(\mathbf{x}) - \beta\,\sigma(\mathbf{x}) \quad (\text{کمینه‌سازی}),\\
 \text{EI}(\mathbf{x}) &= \mathbb{E}\big[\max\{0, f^{\star}-Y(\mathbf{x})\}\big].
\end{align}
قید تنوع (حداقل فاصله در فضای نرمال‌شده) از فروپاشی مود جلوگیری می‌کند.

\subsection{یار-مدل \lr{KNN} برای غربالگری}
برای کاهش فراخوانی‌های \lr{FRF}، پیش‌گوی \lr{KNN} به‌صورت
\begin{equation}
\hat f(\tilde{\mathbf{x}})= \frac{1}{k}\sum_{(\mathbf{x}^{(n)},y^{(n)})\in\mathcal{N}_k(\tilde{\mathbf{x}})} y^{(n)},\quad \mathcal{N}_k(\tilde{\mathbf{x}})=\arg\min_{\mathcal{S},\;|\mathcal{S}|=k}\sum_{(\mathbf{x},\cdot)\in\mathcal{S}}\lVert \mathbf{z}-\tilde{\mathbf{z}}\rVert_2
\end{equation}
با مختصات نرمال‌شده $z_i=(x_i-\ell_i)/(u_i-\ell_i)$ محاسبه می‌شود و نوآوری به‌صورت
\begin{equation}
 \mathcal{N}(\tilde{\mathbf{x}})=\min_{\mathbf{x}^{(n)}\in\mathcal{D}}\lVert \tilde{\mathbf{z}}-\mathbf{z}^{(n)}\rVert_2
\end{equation}
تعریف می‌گردد. تنها زیرمجموعه برگزیده توسط \lr{FRF} ارزیابی می‌شود.
\begin{algorithm}[H]
\caption{غربالگری یار-مدل در هر نسل}
\begin{algorithmic}[1]
\REQUIRE مجموعه فرزندان نامعتبر $\mathcal{U}$ با اندازه $Q$، ضریب مخزن $\phi$، کسر اکتشاف $\eta$، $k$ در \lr{KNN}
\STATE ساخت مخزن $\mathcal{P}$ با اندازه $M=\max\{Q,\lceil\phi Q\rceil\}$ با کلون‌کردن و اعمال کراس‌اوور/جهش سبک
\STATE پیش‌بینی $\hat f$ برای همه $\mathbf{x}\in\mathcal{P}$ و مرتب‌سازی صعودی
\STATE گزینش $q=Q$ نامزدِ بهره‌برداری با کمترین $\hat f$
\STATE افزودن $\eta q$ نمونه اکتشافی با بیشترین نوآوری $\mathcal{N}(\cdot)$
\STATE ارزیابی \lr{FRF} فقط برای مجموعه برگزیده و تکمیل شکاف‌ها در صورت نیاز
\end{algorithmic}
\end{algorithm}

\subsection{نرخ‌های تطبیقی میراثی}
به‌عنوان پشتیبان، یک ابتکار اکتشافی نرخ‌های $(\text{cxpb},\text{mutpb})$ را بر اساس تنوع $\sigma/|\mu|$ و شمارنده رکود تنظیم می‌کند: در تنوع پایین، جهش افزایش و آمیزش کاهش می‌یابد و بالعکس.

\section{ارزیابی و تحلیل پایداری}
\label{sec:benchmarking}
\subsection{سنجه‌های ثبت‌شده}
\begin{itemize}
    \item \textbf{در هر نسل:} بهترین/میانگین/انحراف معیار برازندگی، اندازه جمعیت، $(\text{cxpb},\text{mutpb})$، تعداد ارزیابی‌ها، شکست زمان به اجزا، زمان کل نسل.
    \item \textbf{سیستم:} \lr{CPU\%}، \lr{per-core CPU}، حافظه، \lr{I/O}، شبکه، تعداد نخ‌ها.
    \item \textbf{کنترل‌کننده‌ها:} تاریخچه کنش و پاداش برای بندیت/\lr{RL}؛ تاریخچه نرخ/سازگاری.
\end{itemize}

\subsection{\lr{KPI}‌ها}
اگر $f^{\star}_g$ بهترین برازندگی در نسل $g$ و $G$ تعداد نسل‌ها باشد:
\begin{align}
 g_{\tau} &= \min\{g:\ f^{\star}_g\le\tau\}\quad(\text{زمان تا آستانه}),\\
 \mathrm{AUC} &= \sum_{g=1}^{G} f^{\star}_g\quad(\text{مساحت زیر منحنی بهترین برازندگی؛ کمتر بهتر}),\\
 \bar T &= \frac{1}{G}\sum_{g=1}^{G} T_g,\quad \bar E = \frac{1}{G}\sum_{g=1}^{G} E_g,\\
 \Delta f_g &= \max\{0, f^{\star}_{g-1}-f^{\star}_g\},\quad \overline{\Delta f}=\frac{1}{G-1}\sum_{g=2}^{G}\Delta f_g.
\end{align}
قابلیت اتکا به‌صورت نسبت اجرای موفق ($f^{\star}_G\le\tau$) گزارش می‌شود.

\subsection{طرح ارزیابی}
مطالعه عاملی بر کنترل‌کننده‌ها (ثابت/تطبیقی/بندیت/\lr{RL}) و بذرپاشی‌ها (تصادفی/\lr{Sobol}/\lr{LHS}/\lr{Neural}) با و بدون غربالگری انجام می‌گیرد. برای هر حالت، $R$ تکرار با دانه‌های متفاوت اجرا و \lr{KPI}‌ها و منابع جمع‌آوری می‌شود.
\paragraph{مطالعات حذف}
هر قابلیت پیشرفته به‌تنهایی فعال می‌شود تا اثر نهایی آن جداگانه سنجیده شود.
\paragraph{تحلیل حساسیت}
حساسیت به ثوابت اکتشاف کنترل‌کننده، ضریب مخزن $\phi$ و $k$، کسر اکتشاف و مقیاس اکتساب در \lr{NeuralSeeder} و وزن‌های هدف بررسی می‌شود.
\paragraph{اعتبار بیرونی}
سناریوهای مکانیکی گوناگون برای تعمیم‌پذیری بررسی می‌گردد.

\subsection{تحلیل آماری}
میانه و \lr{IQR} گزارش می‌شود؛ آزمون ناپارامتری \lr{Wilcoxon} و بوت‌استرپ برای \lr{CI}‌های 95\% به‌کار می‌رود. در چندعاملی، هم‌ترازسازی رتبه‌ها یا \lr{ANOVA} جایگشتی دوعاملی برای \lr{AUC} استفاده می‌شود.

\subsection{گزارش‌دهی}
ردپاهای همگرایی با \lr{IQR} سایه‌دار، جعبه‌نمودار \lr{KPI}‌ها، پارتوی برازندگی نهایی در برابر زمان/ارزیابی، مسیر نرخ‌ها/اندازه جمعیت، تایم‌لاین منابع و خلاصه حذف/حساسیت ارائه می‌گردد.

\section{مطالعات موردی و اعتبارسنجی}
\label{sec:case-studies}
سناریوهای نماینده شامل: (1) پیکربندی مبنای \lr{2DOF}-\lr{3DOF} با دو هدف اصلی؛ (2) رژیم میرایی بالا؛ (3) بازچینش چندقله با یکنواختی شیب؛ و (4) حساسیت به کوپل‌های اینرتر. در هر مورد، مجموعه الگوریتم‌ها با و بدون قابلیت‌های پیشرفته مقایسه می‌شود.

\subsection{چیدمان آزمایش}
حدود، اهداف و وزن‌ها ثابت‌اند؛ معیار توقف و بودجه ارزیابی یکسان است. کنترل‌کننده‌ها و یار-مدل‌ها از گاردریل‌های پیش‌فرض تبعیت می‌کنند مگر ذکر شود.

\subsection{نمای نتایج}
به‌طور کلی، کنترل‌کننده‌های تطبیقی زمان تا آستانه و ارزیابی‌ها را کاهش می‌دهند؛ غربالگری بیشترین صرفه‌جویی را در \lr{FRF}‌های گران دارد؛ و \lr{NeuralSeeder} همگرایی اولیه و قابلیت اتکا را بهبود می‌دهد.

\section{سنتز آماری بازه‌های پیشنهادی پارامترهای \lr{DVA}}
\label{sec:statistical-ranges}
\subsection{انگیزه و نمای کلی}
چند اجرای مستقل \lr{GA}، نمونه‌ای از بردارهای بهینه را فراهم می‌کند. به‌جای گزارش یک نقطه، بازه‌های پیشنهادی مقاوم برای هر پارامتر ساخته می‌شود تا تمرکز راه‌حل‌های پُرفرمانس و انتخاب مهندسی هدایت گردد.

\subsection{مدل داده و نمادگذاری}
برای هر اجرا $r$، بهترین بردار $\mathbf{x}^{(r)}=[x^{(r)}_1,\dots,x^{(r)}_P]^{\top}$، بهترین برازندگی $f^{(r)}$ و نام پارامترها $\{p_1,\dots,p_P\}$ گردآوری می‌شود. برای هر پارامتر:
\begin{equation}
 \mathcal{X}_{p_j} = \{\, x^{(1)}_j, x^{(2)}_j, \dots, x^{(R)}_j \,\},\qquad j=1,\dots,P.
\end{equation}
زیرمجموعه کارایی برتر با کسر $q$ تعریف می‌شود:
\begin{equation}
 \mathcal{I}_{q} = \{\, r:\ f^{(r)} \leq Q_f(q) \,\},\quad \mathcal{X}^{q}_{p_j}=\{\, x^{(r)}_j:\ r\in \mathcal{I}_{q}\,\}.
\end{equation}

\subsection{پیش‌پردازش و کنترل کیفیت}
\begin{enumerate}[label=\textbf{P\arabic*}]
    \item \textbf{اعتبارسنجی}: حذف اجراهای ناقص یا نامعتبر.
    \item \textbf{هم‌ترازی}: یکسانی نام/ترتیب پارامترها در همه اجراها.
    \item \textbf{وینسوریزه ی اختیاری}: صرفاً برای تشخیص بصری؛ معیارهای آماری مقاوم نیازمند آن نیستند.
\end{enumerate}

\subsection{معیارهای بازه}
برای هر پارامتر $p_j$، شش بازه مکمل محاسبه می‌شود. هر معیار $c$ بازه $[L^{(c)}_j,\,U^{(c)}_j]$ می‌دهد:
\subsubsection{چارک‌های میانی (\lr{IQR}, \lr{Q1-Q3})}
\begin{equation}
 L^{\text{IQR}}_j = Q_{x_j}(0.25), \qquad U^{\text{IQR}}_j = Q_{x_j}(0.75).
\end{equation}
\subsubsection{کمینه-بیشینه 5 تا 95 درصدی (\lr{P5-P95})}
\begin{equation}
 L^{\text{P5-P95}}_j = Q_{x_j}(0.05), \qquad U^{\text{P5-P95}}_j = Q_{x_j}(0.95).
\end{equation}
\subsubsection{ریسمان‌های \lr{Tukey}}
\begin{align}
 \left[ L^{\text{Tukey}}_j,\, U^{\text{Tukey}}_j \right] &= \left[
 \min\{ x \in \mathcal{X}_{p_j} : x \ge Q_1 - 1.5\,\mathrm{IQR} \},\;
 \max\{ x \in \mathcal{X}_{p_j} : x \le Q_3 + 1.5\,\mathrm{IQR} \}
 \right].
\end{align}
\subsubsection{کوتاه‌ترین بازه \lr{$\alpha$-HDI}}
نمونه $v_1\le\dots\le v_n$ مرتب و $k=\lfloor \alpha n \rceil$ انتخاب می‌شود:
\begin{equation}
 [L^{\text{HDI}}_j, U^{\text{HDI}}_j] = \operatorname*{arg\,min}_{1\le s\le n-k+1} (v_{s+k-1}-v_s).
\end{equation}
\subsubsection{\lr{Top-$q$} به‌همراه \lr{P5-P95}}
\begin{equation}
 L^{\text{Top}}_j = Q_{x_j\in\mathcal{X}^{q}_{p_j}}(0.05),\qquad U^{\text{Top}}_j = Q_{x_j\in\mathcal{X}^{q}_{p_j}}(0.95).
\end{equation}
\subsubsection{میانگین پیرایش‌شده $\pm$ \lr{1.5 MAD} (\lr{TMAD})}
\begin{equation}
 L^{\text{TMAD}}_j = \max\{\min\mathcal{X}_{p_j},\; \tilde\mu - 1.5\,\sigma_{\text{rob}}\},\quad
 U^{\text{TMAD}}_j = \min\{\max\mathcal{X}_{p_j},\; \tilde\mu + 1.5\,\sigma_{\text{rob}}\}.
\end{equation}
که در آن $\sigma_{\text{rob}}=1.4826\,\mathrm{MAD}$ و $\tilde\mu$ میانگین 80\% مرکزی است.

\subsection{الگوریتم‌ها}
\begin{algorithm}[H]
\caption{کوتاه‌ترین \lr{$\alpha$-HDI} برای نمونه یک پارامتر}
\begin{algorithmic}[1]
\REQUIRE نمونه $\mathcal{X}=\{x_1,\dots,x_n\}$ و پوشش $\alpha\in(0,1)$ (پیش‌فرض $0.68$)
\STATE $v \leftarrow \mathrm{sort}(\mathcal{X})$ (صعودی)
\STATE $k \leftarrow \max\{1, \lfloor \alpha n \rceil\}$
\STATE $w^\star \leftarrow +\infty$, $s^\star \leftarrow 1$
\FOR{$s=1$ تا $n-k+1$}
    \STATE $w \leftarrow v_{s+k-1} - v_s$
    \IF{$w < w^\star$} $w^\star\leftarrow w$, $s^\star\leftarrow s$ \ENDIF
\ENDFOR
\STATE \textbf{بازگشت} $[v_{s^\star},\; v_{s^\star+k-1}]$
\end{algorithmic}
\end{algorithm}

\begin{algorithm}[H]
\caption{\lr{Top-$q$} به‌همراه \lr{P5-P95}}
\begin{algorithmic}[1]
\REQUIRE نمونه‌های کوپل $\{(x^{(r)}, f^{(r)})\}_{r=1}^R$ برای پارامتر $p_j$ و برازندگی؛ کسر $q\in(0,1)$ (مثلاً $q=0.25$)
\STATE $\tau \leftarrow Q_{\{f^{(r)}\}}(q)$
\STATE $\mathcal{J} \leftarrow \{ r:\ f^{(r)} \le \tau \}$
\STATE $\mathcal{X}^{q} \leftarrow \{ x^{(r)}:\ r\in\mathcal{J}\}$
\STATE $L \leftarrow Q_{\mathcal{X}^{q}}(0.05)$، $U \leftarrow Q_{\mathcal{X}^{q}}(0.95)$
\STATE \textbf{بازگشت} $[L, U]$
\end{algorithmic}
\end{algorithm}

\subsection{تجمیع، مقایسه و قواعد تصمیم}
\begin{itemize}
    \item \textbf{عرض و مرکز}: $W^{(c)}_j=U^{(c)}_j-L^{(c)}_j$، $C^{(c)}_j=(U^{(c)}_j+L^{(c)}_j)/2$.
    \item \textbf{بازه اجتماع}: $[L^{\cup}_j, U^{\cup}_j]=[\min_c L^{(c)}_j,\; \max_c U^{(c)}_j]$.
    \item \textbf{بازه اشتراک}: $[L^{\cap}_j, U^{\cap}_j]=[\max_c L^{(c)}_j,\; \min_c U^{(c)}_j]$.
    \item \textbf{اشتراک اکثریت}: اشتراکِ حداقل $M$ معیار (مثلاً 3 از 6).
    \item \textbf{نمره وفاق}: $S^{\text{cons}}_j = \dfrac{\max\{0,\,U^{\cap}_j-L^{\cap}_j\}}{\max\{\varepsilon,\,U^{\cup}_j-L^{\cup}_j\}}$.
    \item \textbf{IoU زوجی}: $\mathrm{IoU}^{(c_1,c_2)}_j = \dfrac{\max\{\!0,\,\min(U^{(c_1)}_j,U^{(c_2)}_j)-\max(L^{(c_1)}_j,L^{(c_2)}_j)\}}{\max\{\varepsilon,\,\max(U^{(c_1)}_j,U^{(c_2)}_j)-\min(L^{(c_1)}_j,L^{(c_2)}_j)\}}$.
    \item \textbf{عرض نرمال‌شده}: $\tilde W^{(c)}_j = W^{(c)}_j/\max\{\varepsilon,\,U^{\cup}_j-L^{\cup}_j\}$.
\end{itemize}
\noindent\textbf{انتخاب بازه نهایی.} قواعد زیر اعمال می‌شود:
\begin{enumerate}[label=\textbf{R\arabic*}]
    \item اگر اشتراک غیرتهی و دارای عرض معنادار باشد، همان بازه توصیه‌شده است.
    \item اگر اشتراک تهی/باریک بود، اشتراک اکثریت آزموده شود؛ در غیر این صورت کوتاه‌ترین عرض بین معیارهای مقاوم (\lr{HDI}، \lr{IQR}، \lr{TMAD}) گزیده می‌شود.
    \item برای پارامترهای حساس به عملکرد، بازه \lr{Top-$q$} یا \lr{HDI} اولویت می‌یابد.
    \item همواره کلیپ به حدود فیزیکی $[\theta_j^{\min}, \theta_j^{\max}]$ اعمال می‌شود.
\end{enumerate}

\subsection{تصویربرداری و گزارش}
دو دسته تشخیص تولید می‌شود: (1) نوارهای پشته‌ای رنگی بازه‌ها برای هر پارامتر/معیار؛ (2) نقشه ی گرمای عرض‌ها برای مقایسه تراکم و عدم‌قطعیت.

\subsection{راهنمای انتخاب معیار}
\begin{itemize}
    \item \textbf{نمونه کوچک یا پرت‌های شدید}: \lr{TMAD} و \lr{IQR} پایدارترند.
    \item \textbf{توزیع کج یا چندمودی}: \lr{HDI} چگال‌ترین ناحیه را می‌یابد.
    \item \textbf{بازتاب عملکرد بالا}: \lr{Top-$q$} ناحیه راه‌حل‌های نخبه را برجسته می‌کند.
    \item \textbf{پوشش گسترده‌تر}: \lr{P5-P95} 90\% داده را شامل و تنها دُم‌ها را حذف می‌کند.
    \item \textbf{حذف پرت تفسیرپذیر}: \lr{Tukey} با قاعده 1.5 \lr{IQR} عمل می‌کند.
\end{itemize}

\subsection{پیچیدگی و نکات پیاده‌سازی}
غلبه زمانی با مرتب‌سازی کوانتیل‌ها است: برای هر پارامتر، \lr{$O(R\log R)$}. در کل، \lr{$O(P R \log R)$}. از \lr{NumPy}/\lr{Pandas} برای محاسبات برداری سریع بهره گرفته می‌شود.

\subsection{روند سرتاسری}
\begin{algorithm}[H]
\caption{گردآوری و اعتبارسنجی داده‌های اجرای بهینه‌سازی}
\begin{algorithmic}[1]
\REQUIRE $R$ اجرای مستقل از \lr{GAWorker.run()}؛ هر اجرا: \lr{(final\_results, best\_ind, parameter\_names, best\_fitness)}؛ حدود $[\theta_j^{\min},\theta_j^{\max}]$
\STATE گردآوری همه اجراها در جدول ساخت‌یافته (\lr{run\_id}، \lr{fitness} و ستون‌های پارامترها)
\STATE اعتبارسنجی و هم‌ترازی نام/ترتیب پارامترها؛ حذف اجراهای ناقص/نامعتبر
\STATE استخراج نمونه هر پارامتر $\mathcal{X}_{p_j}$ و برازندگی‌ها؛ شناسایی پارامترهای ثابت
\STATE تعریف زیرمجموعه \lr{Top-$q$} در صورت نیاز و استخراج $\mathcal{X}^{q}_{p_j}$
\end{algorithmic}
\end{algorithm}

\begin{algorithm}[H]
\caption{محاسبه بازه‌های آماری برای هر پارامتر}
\begin{algorithmic}[1]
\REQUIRE برای هر پارامتر $p_j$، نمونه $\mathcal{X}_{p_j}$ (و در صورت نیاز $\mathcal{X}^{q}_{p_j}$)، حدود $[\theta_j^{\min}, \theta_j^{\max}]$
\FOR{$j=1$ تا $P$}
    \IF{$p_j$ ثابت است}
        \STATE بازه همه معیارها را برابر $[\theta_j^{\min}, \theta_j^{\max}]$ قرار دهید و به بعدی بروید
    \ENDIF
    \STATE محاسبه بازه‌ها بر اساس معیارهای \lr{IQR}، \lr{P5-P95}، \lr{Tukey}، \lr{HDI}$_{0.68}$، \lr{Top-$q$} و \lr{TMAD}
\ENDFOR
\end{algorithmic}
\end{algorithm}

\begin{algorithm}[H]
\caption{محاسبه سنجه‌های بازه و مقایسه معیارها}
\begin{algorithmic}[1]
\REQUIRE برای هر $p_j$، بازه‌های $[L^{(c)}_j,U^{(c)}_j]$
\FOR{$j=1$ تا $P$}
    \STATE محاسبه $W^{(c)}_j$ و $C^{(c)}_j$ برای هر معیار
    \STATE محاسبه اجتماع $[L^{\cup}_j,U^{\cup}_j]$ و اشتراک $[L^{\cap}_j,U^{\cap}_j]$
    \STATE محاسبه نمره وفاق، \lr{IoU} زوجی و عرض‌های نرمال‌شده
\ENDFOR
\end{algorithmic}
\end{algorithm}

\begin{algorithm}[H]
\caption{انتخاب بازه‌های پیشنهادی}
\begin{algorithmic}[1]
\REQUIRE برای هر $p_j$، همه بازه‌ها، سنجه‌ها و حدود $[\theta_j^{\min}, \theta_j^{\max}]$
\FOR{$j=1$ تا $P$}
    \STATE اعمال قواعد \textbf{R1-R4} و کلیپ به حدود فیزیکی برای تعیین $[L_j,U_j]$
\ENDFOR
\end{algorithmic}
\end{algorithm}

\begin{algorithm}[H]
\caption{تصویربرداری، گزارش و صدور نتایج}
\begin{algorithmic}[1]
\REQUIRE برای همه پارامترها: بازه‌های هر معیار، سنجه‌ها و بازه‌های نهایی
\STATE ارائه جدول‌های معیارها، نمودارهای نوار پشته‌ای، هم‌نهشتی بازه‌ها، نقشه ی گرمای عرض‌ها و سنجه‌های خلاصه
\STATE صدور همه بازه‌ها، اجتماع/اشتراک، سنجه‌های مقایسه و بازه‌های نهایی $[L_j,U_j]$ به \lr{CSV}
\end{algorithmic}
\end{algorithm}

\subsection{نگاشت به پیاده‌سازی نرم‌افزار}
زبانه «بازه‌های پارامتر» در \lr{GUI} افزوده می‌شود: یک زیرزبانه برای هر معیار و یک زیرزبانه «مقایسه معیارها» با جدول‌ها، نوارهای افقی و گزینه‌های صدور. پارامترهای ثابت به‌صورت بازه‌های تک‌نقطه‌ای گزارش می‌شوند.

\vspace{0.5em}
\noindent\textbf{نتیجه مهندسی:} بازه‌های نهایی، پوشش‌های دفاع‌پذیر و شفاف برای هر پارامتر \lr{DVA} ارائه می‌کنند که هم گرایش مرکزی و هم تمرکز عملکرد بالا را بازتاب می‌دهند و در برابر داده‌های پرت مقاوم‌اند.

\end{document}
